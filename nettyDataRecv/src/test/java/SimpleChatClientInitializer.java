import com.shm.metro.util.Util;
import io.netty.channel.ChannelInitializer;
import io.netty.channel.ChannelPipeline;
import io.netty.channel.socket.SocketChannel;
import io.netty.handler.codec.DelimiterBasedFrameDecoder;
import io.netty.handler.codec.Delimiters;
import io.netty.handler.codec.string.StringDecoder;
import io.netty.handler.codec.string.StringEncoder;


/**
 * Created by Administrator on 2023/7/4.
 */
public class SimpleChatClientInitializer extends ChannelInitializer<SocketChannel> {

    protected void initChannel(SocketChannel socketChannel) throws Exception {
        ChannelPipeline pipeline = socketChannel.pipeline();

        //pipeline.addLast("framer",new DelimiterBasedFrameDecoder(8196, Delimiters.lineDelimiter()));
        //pipeline.addLast("decoder",new StringDecoder());
        //pipeline.addLast("encoder",new StringEncoder());
        //pipeline.addLast("handler",new SimpleChatClientHandler());
        while (true){
            pipeline.writeAndFlush(Util.hex2Byte("aaabac00030306000000000000840300015e05000032015008041202059305d2026a5303e86c0000000000111111777700224e4a494b000000000000000000201211111fbebebe7c7c7b190d060000000000005555555505120000000000000000000000000000004058160411111111111111111111111111111111111111111111111111111111111100000000553333333333331100a000a000a000a000a000a0040404040404008e0086008c0089008d00970082008f008f009700900086008e0086008c0089008d00970082008f008f00970090008600b600ab00a900ae00ad00b400aa00af00b100b000b400ac00c500b500b400b400b500be00c500b900b900b500b500b900bd00bd00bf00bc00bb00b300bc00c100c100bd00be00b23f00111111111111111100000000000003aa0000002b000004f8000002d100014d68000151bb015b6c36000000300000000a020f020c020f01a601860187019300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f8ff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000104fa4090000270078264df4001a80f0e17fcccccc95390000000000000b00230c0000000000000b6000000000000000000000000007000"));
            Thread.sleep(1000);
            pipeline.writeAndFlush(Util.hex2Byte("5d203e896642564196413641a0005905d00058a4900059156000590574816ffe5461100e3480f00ea00110301073b3b9845009743009444009d4152008d201c1103010800000000000040b"));
        }
    }
}
